<h2>Meeting Schedule</h2>

<div class="schedule-header">
    {{input value=filterString placeholder="Search Schedule..." style="color:black;"}}
    <label>
        Filter by:
    </label>
    <select onchange={{action (mut trackFilter) value="target.value"}}>
        <option value="" selected={{eq "" trackFilter}}>All Tracks</option>
        {{#each (await tracks) as |track|}}
            <option value={{track}} selected={{eq track trackFilter}}>{{track}}</option>
        {{/each}}
    </select>
    <select onchange={{action (mut roomFilter) value="target.value"}}>
        <option value="" selected={{eq "" roomFilter}}>All Rooms</option>
        {{#each (await rooms) as |room|}}
            <option value={{room}} selected={{eq room roomFilter}}>{{room}}</option>
        {{/each}}
    </select>
</div>


<div class="schedule-table">
    {{#each (await items) as |itemlist|}}
        <h3 class="time-slot-header">{{itemlist.[0].startTimeFormatted}}</h3>
        {{#each itemlist as |item|}}
            <a onclick={{action (mut selectedItemId) item.id}}>
                <span class="event-title"><strong>
                    {{item.title}}
                </strong></span>
                <span class="event-location">
                    {{item.location}}
                </span>
                <span class="event-presenter">
                    {{await item.createdBy.computedFullName}}
                </span>
                <span class="event-end-time">
                    Ends at {{item.endTimeFormatted}}
                </span>
            </a>
        {{/each}}
    {{else}}
        No Items Yet.
    {{/each}}
</div>

<div class="item-detail">
    <h3>{{get (await selectedItem) 'title'}}<br>
        <small>{{get (await selectedItem) 'createdBy.computedFullName'}}</small>
    </h3>
    <p>{{get (await selectedItem) 'description'}}</p>
    <p><a href="#" class="button">Link to author</a> | {{#link-to 'collections.collection.item' model.id selectedItemId class="button"}}Link to presentation{{/link-to}}</p>
</div>

<hr>
